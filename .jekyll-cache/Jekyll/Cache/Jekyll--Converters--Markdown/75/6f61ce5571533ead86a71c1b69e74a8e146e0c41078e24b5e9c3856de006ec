I"
<p>I’ve come across a lot of examples of how to set up Active Directory (AD) environments using PowerShell one-liners, various vagrant files, and any other automation tactics that you can think of. But one thing that seems to have fallen away has been people setting up their own AD lab environments manually.</p>

<p>While the other methods are really fantastic if you want a fully fledged lab that you can start exploiting almost instantly, you miss out on the learning opportunities that come with setting up your own environment from scratch. The main idea of this post is to demystify a little bit of the set up of AD and let you build your own local AD lab. Since you will have this local lab instance set up, you can attempt to intentionally misconfigure your set up to be vulnerable to issues that you want to learn about and then test out the tools for both finding and exploiting each misconfiguration.</p>

<p><strong>Prerequisites:</strong>
In order to begin creating your own local AD lab environment, you will need the following:</p>

<ul>
  <li>Windows Server 2016/2019 VM</li>
  <li>Windows 10 VM</li>
  <li>Kali VM or related security distro (EG: ParrotOS) if you want to abuse any misconfigurations</li>
</ul>

<p>Evaluation Versions of Windows can be found at:</p>
<ul>
  <li><a href="https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise">Windows 10</a></li>
  <li><a href="https://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-2019">Windows Server</a></li>
</ul>

<p>(These work for 180 days, unless you delete the service that reboots the box after that period, then they work like normal ISOs that just prompt you to activate.)</p>

<p>Non-eval versions of consumer (Pro and Home) Windows 10 can be found <a href="https://www.microsoft.com/engb/software-download/windows10">here</a> as long as you are coming from a non-windows user agent.</p>

<h3 id="a-heading-in-this-so-entry"><a name="head1234"></a>A Heading in this SO entry!</h3>

<p>The setup is divided into the following parts:</p>

<p>https://1337red.wordpress.com/building-and-attacking-an-active-directory-lab-with-powershell/</p>

<h2 id="setting-up-ad">Setting up AD</h2>

<p>Section 2 and Section 3 below, provide the basic steps required to set up – and administer – a small domain. These sections only include the basic aspects as a point of reference, the “Useful Resources” section below contains links to resources which can be used when attempting to set up your own basic domain</p>

<p>and we can even <a href="#head1234">link</a> to it so:</p>
:ET